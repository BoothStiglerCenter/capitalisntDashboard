nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
scale_alpha(guide='none')+
labs(title="Capitalisn't: Cumultaive downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()
ggsave('test.png', plot=last_plot(), width = 15, height=9, units='in')
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
scale_alpha(guide='none')+
labs(title="Capitalisn't: Cumultaive downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumultaive downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()
ggsave('test.png', plot=last_plot(), width = 15, height=9, units='in')
ggsave('test.png', plot=last_plot(), width = 15, height=9, units='in', dpi=100)
ggsave('test.png', plot=last_plot(), width = 15, height=9, units='in', dpi=200)
library(scalse)
library(scales)
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
scale_y_continuous(labels = scales::comma())
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
scale_y_continuous(labels = scales::comma())+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()
scale_y_continuous(labels = scales::comma+
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
scale_y_continuous(labels = scales::comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
scale_y_continuous(labels = scales::comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
scale_y_continuous(labels = scales::comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
scale_y_continuous(labels = scales::comma())+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
scale_y_continuous(labels = comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
scale_y_continuous(labels = comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()+
theme(
plot.title=element.text(size='15')
)
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
scale_y_continuous(labels = comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()+
theme(
plot.title=element.text(size=22)
)
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(guide='none')+
scale_y_continuous(labels = comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()+
theme(
plot.title=element_text(size=22)
)
ggsave('test.png', plot=last_plot(), width = 16, height=9, units='in', dpi=200)
df_clean <- df %>%
mutate(interval = as_date(interval, format='%m/%d/%Y')) %>%
arrange(interval) %>%
group_by(episode_title) %>%
mutate(weeks_since_release = row_number(),
cumulative_downloads = cumsum(downloads_total),
release_date = min(interval),
most_recent_week = max(interval),
label_text = ifelse(interval == most_recent_week,
paste(release_date, '--', substr(episode_title, 1, 35)),
NA)) %>%
ungroup() %>%
mutate(
alpha_val = 1/log(1 + weeks_since_release),
label_text = ifelse(str_length(label_text) > 45,
paste0(label_text, '...', sep=''),
label_text),
) %>%
view()
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c()+
scale_y_continuous(labels = comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()+
theme(
plot.title=element_text(size=22)
)
?scale_color_viridis_c
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(name='Release-date',
breaks = c(as.numeric(min(df_clean$release_date), max(df_clean$release_date))),
direction=-1)+
scale_y_continuous(labels = comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()+
theme(
plot.title=element_text(size=22)
)
breaks = c(as.numeric(min(df_clean$release_date), as.numeric(max(df_clean$release_date))),
breaks = c(as.numeric(min(df_clean$release_date), as.numeric(max(df_clean$release_date))),
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(name='Release-date',
breaks = c(as.numeric(min(df_clean$release_date)), as.numeric(max(df_clean$release_date))),
direction=-1)+
scale_y_continuous(labels = comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()+
theme(
plot.title=element_text(size=22)
)
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(name='Release-date',
breaks = c(as.numeric(min(df_clean$release_date)), as.numeric(max(df_clean$release_date))),
labels = c('Oldest', 'Newest')
direction=-1)+
scale_y_continuous(labels = comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()+
theme(
plot.title=element_text(size=22)
)
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(name='Release-date',
breaks = c(as.numeric(min(df_clean$release_date)), as.numeric(max(df_clean$release_date))),
labels = c('Oldest', 'Newest'),
direction=-1)+
scale_y_continuous(labels = comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()+
theme(
plot.title=element_text(size=22)
)
ggsave('test.png', plot=last_plot(), width = 16, height=9, units='in', dpi=200)
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(name='Release-date',
breaks = c(as.numeric(min(df_clean$release_date)), as.numeric(max(df_clean$release_date))),
labels = c('Oldest', 'Newest'),
direction=-1)+
scale_y_continuous(labels = comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()+
theme(
plot.title=element_text(size=22),
legened.position =c(0.9, 0.15)
)
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(name='Release-date',
breaks = c(as.numeric(min(df_clean$release_date)), as.numeric(max(df_clean$release_date))),
labels = c('Oldest', 'Newest'),
direction=-1)+
scale_y_continuous(labels = comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()+
theme(
plot.title=element_text(size=22),
legend.position=c(0.9, 0.15)
)
ggsave('test.png', plot=last_plot(), width = 16, height=9, units='in', dpi=200)
ggsave('07-14-Capitalisnt cumulative downloads.png', plot=last_plot(), width = 16, height=9, units='in', dpi=200)
ggplot(df_clean)+
geom_line(aes(x=weeks_since_release,
y=cumulative_downloads,
group=episode_title,
color=release_date),
size=2)+
geom_label_repel(aes(x=weeks_since_release,
y=cumulative_downloads,
color=release_date,
label=label_text),
nudge_x = 4,
xlim=c(0, 50),
ylim=c(0, 2000000),
direction='both')+
scale_color_viridis_c(name='Release-date',
breaks = c(as.numeric(min(df_clean$release_date)), as.numeric(max(df_clean$release_date))),
labels = c('Oldest', 'Newest'),
direction=-1)+
scale_y_continuous(labels = comma)+
xlim(c(0, max(df_clean$weeks_since_release + 10)))+
labs(title="Capitalisn't: Cumulative downloads over time -- past ten episodes")+
xlab('Weeks since release')+
ylab('Cumulative downloads')+
theme_minimal()+
theme(
plot.title=element_text(size=22),
legend.position=c(0.9, 0.15)
)
ggsave('07-14-Capitalisnt cumulative downloads.png', plot=last_plot(), width = 16, height=9, units='in', dpi=200)
